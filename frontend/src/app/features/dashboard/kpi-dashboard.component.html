<div class="kpi-dashboard">
  <!-- Header -->
  <div class="dashboard-header">
    <h1 class="dashboard-title">ğŸ“Š Dashboard</h1>
    <p class="dashboard-subtitle">Resumo de performance do seu restaurante</p>
  </div>

  <!-- Loading State -->
  <div *ngIf="loading" class="loading-container">
    <div class="spinner"></div>
    <p>Carregando dados...</p>
  </div>

  <!-- Error State -->
  <div *ngIf="error" class="error-container">
    <p class="error-message">{{ error }}</p>
  </div>

  <!-- Main Content -->
  <div *ngIf="!loading && !error" class="dashboard-content">
    <!-- KPI Cards Row 1 -->
    <div class="kpi-row">
      <div *ngFor="let card of kpiCards.slice(0, 3)" class="kpi-card" [ngClass]="'status-' + card.status">
        <div class="card-icon">{{ card.icon }}</div>
        <div class="card-content">
          <h3 class="card-title">{{ card.title }}</h3>
          <div class="card-value">{{ card.value }}</div>
          <div *ngIf="card.trend" class="card-trend" [ngClass]="card.trend >= 0 ? 'positive' : 'negative'">
            <span>{{ card.trend >= 0 ? 'ğŸ“ˆ' : 'ğŸ“‰' }} {{ card.trend }}%</span>
          </div>
        </div>
      </div>
    </div>

    <!-- KPI Cards Row 2 -->
    <div class="kpi-row">
      <div *ngFor="let card of kpiCards.slice(3, 6)" class="kpi-card" [ngClass]="'status-' + card.status">
        <div class="card-icon">{{ card.icon }}</div>
        <div class="card-content">
          <h3 class="card-title">{{ card.title }}</h3>
          <div class="card-value">{{ card.value }}</div>
          <div *ngIf="card.trend" class="card-trend" [ngClass]="card.trend >= 0 ? 'positive' : 'negative'">
            <span>{{ card.trend >= 0 ? 'ğŸ“ˆ' : 'ğŸ“‰' }} {{ card.trend }}%</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Top Produtos -->
    <div class="section" *ngIf="topProducts.length > 0">
      <h2 class="section-title">ğŸ† Top 10 Produtos</h2>
      <div class="products-list">
        <div *ngFor="let product of topProducts; let i = index" class="product-row">
          <div class="product-rank">
            <span class="rank-badge">{{ i + 1 }}</span>
          </div>
          <div class="product-info">
            <h4 class="product-name">{{ product.productName }}</h4>
            <p class="product-channel">{{ product.channel }}</p>
          </div>
          <div class="product-metrics">
            <span class="metric-item">{{ formatNumber(product.quantity) }} vendas</span>
            <span class="metric-item">{{ formatCurrency(product.revenue) }}</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
